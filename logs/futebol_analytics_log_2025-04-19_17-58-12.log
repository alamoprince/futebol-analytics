2025-04-19 17:58:12 - MainApp - INFO - APP_DIR (launcher): c:\Users\princ\Desktop\modelagem\Modelagem_Exemplos\futebol_analytics\src
2025-04-19 17:58:12 - MainApp - INFO - SRC_DIR: c:\Users\princ\Desktop\modelagem\Modelagem_Exemplos\futebol_analytics\src\src
2025-04-19 17:58:12 - MainApp - INFO - BASE_DIR: c:\Users\princ\Desktop\modelagem\Modelagem_Exemplos\futebol_analytics\src
2025-04-19 17:58:12 - MainApp - INFO - sys.path includes SRC_DIR?: True, BASE_DIR?: True
2025-04-19 17:58:17 - MainApp - INFO - DPI Awareness set (Windows).
2025-04-19 17:58:18 - MainApp - INFO - ScraperUploadTab instanciada com sucesso.
2025-04-19 17:58:18 - PredictorApp - INFO - Modelo carregado: best_model_backdraw_best_f1.joblib (Modif.: 2025-04-18 16:57:57)
2025-04-19 17:58:18 - PredictorApp - INFO -   Tipo Modelo: SVC
2025-04-19 17:58:18 - PredictorApp - INFO -   Calibrador: Sim
2025-04-19 17:58:18 - PredictorApp - INFO -   Limiar EV Carregado: 0.1800
2025-04-19 17:58:18 - PredictorApp - INFO - Modelo carregado: best_model_backdraw_best_roi.joblib (Modif.: 2025-04-18 16:57:57)
2025-04-19 17:58:18 - PredictorApp - INFO -   Tipo Modelo: LogisticRegression
2025-04-19 17:58:18 - PredictorApp - INFO -   Calibrador: Sim
2025-04-19 17:58:18 - PredictorApp - INFO -   Limiar EV Carregado: 0.2000
2025-04-19 17:58:18 - DataHandler - INFO - Iniciando carregamento e mapeamento de ligas de dados históricos...
2025-04-19 17:58:18 - DataHandler - INFO - Lendo Base_de_Dados_FootyStats_(2006_2021).csv...
2025-04-19 17:58:19 - DataHandler - INFO -   -> Lido 169433 linhas.
2025-04-19 17:58:19 - DataHandler - INFO -   Aplicando mapeamento de liga específico para Base_de_Dados_FootyStats_(2006_2021).csv (Coluna original: 'League')...
2025-04-19 17:58:19 - DataHandler - WARNING -     Ligas NÃO mapeadas (mapa específico) em Base_de_Dados_FootyStats_(2006_2021).csv: ['Argentina Primera DivisiÃ³n', 'Austria 2. Liga', 'Austria Bundesliga', 'Belgium Pro League', 'Bulgaria First League', 'Chile Primera DivisiÃ³n', 'China Chinese Super League', 'Croatia Prva HNL', 'Czech Republic First League', 'Denmark Superliga', 'Egypt Egyptian Premier League', 'England Championship', 'England EFL League One', 'England EFL League Two', 'England Premier League', 'Estonia Meistriliiga', 'Finland Veikkausliiga', 'France Ligue 1', 'France Ligue 2', 'Germany 2. Bundesliga', 'Germany Bundesliga', 'Greece Super League', 'Iceland Ã\x9arvalsdeild', 'Japan J1 League', 'Japan J2 League', 'Netherlands Eerste Divisie', 'Netherlands Eredivisie', 'Norway Eliteserien', 'Norway First Division', 'Paraguay Division Profesional', 'Poland Ekstraklasa', 'Portugal Liga NOS', 'Portugal LigaPro', 'Republic of Ireland Premier Division', 'Scotland Premiership', 'Serbia SuperLiga', 'Slovakia Super Liga', 'Slovenia PrvaLiga', 'South Korea K League 1', 'South Korea K League 2', 'Spain La Liga', 'Spain Segunda DivisiÃ³n', 'Sweden Allsvenskan', 'Sweden Superettan', 'Switzerland Challenge League', 'Switzerland Super League', 'Turkey SÃ¼per Lig', 'Uruguay Primera DivisiÃ³n', 'USA MLS', 'Wales Welsh Premier League']
2025-04-19 17:58:19 - DataHandler - INFO -   Filtro de Liga (pós-map) em Base_de_Dados_FootyStats_(2006_2021).csv: 20112/169433 jogos restantes.
2025-04-19 17:58:19 - DataHandler - INFO -   Aplicando mapeamento geral de colunas (CSV_HIST_COL_MAP) ao DF filtrado...
2025-04-19 17:58:19 - DataHandler - INFO -   DataFrame de Base_de_Dados_FootyStats_(2006_2021).csv processado e adicionado.
2025-04-19 17:58:19 - DataHandler - INFO - Lendo Base_de_Dados_FootyStats_(2022_2025).csv...
2025-04-19 17:58:20 - DataHandler - INFO -   -> Lido 49477 linhas.
2025-04-19 17:58:20 - DataHandler - INFO -   Aplicando mapeamento de liga específico para Base_de_Dados_FootyStats_(2022_2025).csv (Coluna original: 'League')...
2025-04-19 17:58:20 - DataHandler - WARNING -     Ligas NÃO mapeadas (mapa específico) em Base_de_Dados_FootyStats_(2022_2025).csv: ['PARAGUAY 1', 'CHILE 1', 'URUGUAY 1', 'JAPAN 1', 'IRELAND 1', 'JAPAN 2', 'SOUTH KOREA 2', 'SOUTH KOREA 1', 'USA 1', 'ESTONIA 1', 'FINLAND 1', 'SWEDEN 2', 'SWEDEN 1', 'NORWAY 1', 'NORWAY 2', 'ICELAND 1', 'CHINA 1', 'BULGARIA 1', 'SERBIA 1', 'POLAND 1', 'DENMARK 1', 'SWITZERLAND 2', 'CROATIA 1', 'SLOVENIA 1', 'SLOVAKIA 1', 'GERMANY 2', 'SWITZERLAND 1', 'AUSTRIA 2', 'AUSTRIA 1', 'BELGIUM 1', 'ENGLAND 2', 'SCOTLAND 1', 'FRANCE 2', 'ENGLAND 3', 'ENGLAND 4', 'CZECH 1', 'NETHERLANDS 2', 'NETHERLANDS 1', 'TURKEY 1', 'GERMANY 1', 'FRANCE 1', 'ENGLAND 1', 'PORTUGAL 1', 'PORTUGAL 2', 'WALES 1', 'SPAIN 1', 'GREECE 1', 'EGYPT 1']
2025-04-19 17:58:20 - DataHandler - INFO -   Filtro de Liga (pós-map) em Base_de_Dados_FootyStats_(2022_2025).csv: 8497/49477 jogos restantes.
2025-04-19 17:58:20 - DataHandler - INFO -   Aplicando mapeamento geral de colunas (CSV_HIST_COL_MAP) ao DF filtrado...
2025-04-19 17:58:20 - DataHandler - INFO -   DataFrame de Base_de_Dados_FootyStats_(2022_2025).csv processado e adicionado.
2025-04-19 17:58:20 - DataHandler - INFO - Concatenando 2 DFs processados...
2025-04-19 17:58:20 - DataHandler - INFO - DF histórico combinado e mapeado: (28609, 16)
2025-04-19 17:58:20 - DataHandler - INFO - Iniciando processamento comum pós-concatenação (Tipos, NaNs, Dropna Essencial, Ordenação)...
2025-04-19 17:58:20 - DataHandler - INFO - Verificando NaNs nas colunas essenciais finais: ['Date', 'Home', 'Away', 'Goals_H_FT', 'Goals_A_FT', 'Odd_H_FT', 'Odd_D_FT', 'Odd_A_FT']
2025-04-19 17:58:20 - DataHandler - INFO - Removidas 5002 linhas com NaNs essenciais finais.
2025-04-19 17:58:20 - DataHandler - INFO - DF histórico final ordenado por Data.
2025-04-19 17:58:20 - DataHandler - INFO - Carregamento e mapeamento históricos OK. Shape Final: (23607, 16)
2025-04-19 17:58:20 - DataHandler - INFO - Contagem de NaNs finais em colunas opcionais:
Odd_Over25_FT     7305
Odd_Under25_FT    7603
Odd_BTTS_Yes      7170
Odd_BTTS_No       7169
XG_H              8173
XG_A              8173
XG_Total          8101
dtype: int64
2025-04-19 17:58:20 - MainApp - INFO - FootballPredictorDashboard instanciada com sucesso.
2025-04-19 17:58:20 - MainApp - INFO - FeatureAnalyzerApp instanciada com sucesso.
2025-04-19 17:58:23 - DataHandler - INFO - Iniciando carregamento e mapeamento de ligas de dados históricos...
2025-04-19 17:58:23 - DataHandler - INFO - Lendo Base_de_Dados_FootyStats_(2006_2021).csv...
2025-04-19 17:58:24 - DataHandler - INFO -   -> Lido 169433 linhas.
2025-04-19 17:58:24 - DataHandler - INFO -   Aplicando mapeamento de liga específico para Base_de_Dados_FootyStats_(2006_2021).csv (Coluna original: 'League')...
2025-04-19 17:58:24 - DataHandler - WARNING -     Ligas NÃO mapeadas (mapa específico) em Base_de_Dados_FootyStats_(2006_2021).csv: ['Argentina Primera DivisiÃ³n', 'Austria 2. Liga', 'Austria Bundesliga', 'Belgium Pro League', 'Bulgaria First League', 'Chile Primera DivisiÃ³n', 'China Chinese Super League', 'Croatia Prva HNL', 'Czech Republic First League', 'Denmark Superliga', 'Egypt Egyptian Premier League', 'England Championship', 'England EFL League One', 'England EFL League Two', 'England Premier League', 'Estonia Meistriliiga', 'Finland Veikkausliiga', 'France Ligue 1', 'France Ligue 2', 'Germany 2. Bundesliga', 'Germany Bundesliga', 'Greece Super League', 'Iceland Ã\x9arvalsdeild', 'Japan J1 League', 'Japan J2 League', 'Netherlands Eerste Divisie', 'Netherlands Eredivisie', 'Norway Eliteserien', 'Norway First Division', 'Paraguay Division Profesional', 'Poland Ekstraklasa', 'Portugal Liga NOS', 'Portugal LigaPro', 'Republic of Ireland Premier Division', 'Scotland Premiership', 'Serbia SuperLiga', 'Slovakia Super Liga', 'Slovenia PrvaLiga', 'South Korea K League 1', 'South Korea K League 2', 'Spain La Liga', 'Spain Segunda DivisiÃ³n', 'Sweden Allsvenskan', 'Sweden Superettan', 'Switzerland Challenge League', 'Switzerland Super League', 'Turkey SÃ¼per Lig', 'Uruguay Primera DivisiÃ³n', 'USA MLS', 'Wales Welsh Premier League']
2025-04-19 17:58:24 - DataHandler - INFO -   Filtro de Liga (pós-map) em Base_de_Dados_FootyStats_(2006_2021).csv: 20112/169433 jogos restantes.
2025-04-19 17:58:24 - DataHandler - INFO -   Aplicando mapeamento geral de colunas (CSV_HIST_COL_MAP) ao DF filtrado...
2025-04-19 17:58:24 - DataHandler - INFO -   DataFrame de Base_de_Dados_FootyStats_(2006_2021).csv processado e adicionado.
2025-04-19 17:58:24 - DataHandler - INFO - Lendo Base_de_Dados_FootyStats_(2022_2025).csv...
2025-04-19 17:58:25 - DataHandler - INFO -   -> Lido 49477 linhas.
2025-04-19 17:58:25 - DataHandler - INFO -   Aplicando mapeamento de liga específico para Base_de_Dados_FootyStats_(2022_2025).csv (Coluna original: 'League')...
2025-04-19 17:58:25 - DataHandler - WARNING -     Ligas NÃO mapeadas (mapa específico) em Base_de_Dados_FootyStats_(2022_2025).csv: ['PARAGUAY 1', 'CHILE 1', 'URUGUAY 1', 'JAPAN 1', 'IRELAND 1', 'JAPAN 2', 'SOUTH KOREA 2', 'SOUTH KOREA 1', 'USA 1', 'ESTONIA 1', 'FINLAND 1', 'SWEDEN 2', 'SWEDEN 1', 'NORWAY 1', 'NORWAY 2', 'ICELAND 1', 'CHINA 1', 'BULGARIA 1', 'SERBIA 1', 'POLAND 1', 'DENMARK 1', 'SWITZERLAND 2', 'CROATIA 1', 'SLOVENIA 1', 'SLOVAKIA 1', 'GERMANY 2', 'SWITZERLAND 1', 'AUSTRIA 2', 'AUSTRIA 1', 'BELGIUM 1', 'ENGLAND 2', 'SCOTLAND 1', 'FRANCE 2', 'ENGLAND 3', 'ENGLAND 4', 'CZECH 1', 'NETHERLANDS 2', 'NETHERLANDS 1', 'TURKEY 1', 'GERMANY 1', 'FRANCE 1', 'ENGLAND 1', 'PORTUGAL 1', 'PORTUGAL 2', 'WALES 1', 'SPAIN 1', 'GREECE 1', 'EGYPT 1']
2025-04-19 17:58:25 - DataHandler - INFO -   Filtro de Liga (pós-map) em Base_de_Dados_FootyStats_(2022_2025).csv: 8497/49477 jogos restantes.
2025-04-19 17:58:25 - DataHandler - INFO -   Aplicando mapeamento geral de colunas (CSV_HIST_COL_MAP) ao DF filtrado...
2025-04-19 17:58:25 - DataHandler - INFO -   DataFrame de Base_de_Dados_FootyStats_(2022_2025).csv processado e adicionado.
2025-04-19 17:58:25 - DataHandler - INFO - Concatenando 2 DFs processados...
2025-04-19 17:58:25 - DataHandler - INFO - DF histórico combinado e mapeado: (28609, 16)
2025-04-19 17:58:25 - DataHandler - INFO - Iniciando processamento comum pós-concatenação (Tipos, NaNs, Dropna Essencial, Ordenação)...
2025-04-19 17:58:25 - DataHandler - INFO - Verificando NaNs nas colunas essenciais finais: ['Date', 'Home', 'Away', 'Goals_H_FT', 'Goals_A_FT', 'Odd_H_FT', 'Odd_D_FT', 'Odd_A_FT']
2025-04-19 17:58:25 - DataHandler - INFO - Removidas 5002 linhas com NaNs essenciais finais.
2025-04-19 17:58:25 - DataHandler - INFO - DF histórico final ordenado por Data.
2025-04-19 17:58:25 - DataHandler - INFO - Carregamento e mapeamento históricos OK. Shape Final: (23607, 16)
2025-04-19 17:58:25 - DataHandler - INFO - Contagem de NaNs finais em colunas opcionais:
Odd_Over25_FT     7305
Odd_Under25_FT    7603
Odd_BTTS_Yes      7170
Odd_BTTS_No       7169
XG_H              8173
XG_A              8173
XG_Total          8101
dtype: int64
2025-04-19 17:58:25 - DataHandler - INFO - --- Iniciando Pré-processamento e Engenharia de Features (Histórico) ---
2025-04-19 17:58:25 - DataHandler - INFO - Médias Globais Liga (Histórico, NaN-ignored): Casa=1.379, Fora=1.034
2025-04-19 17:58:25 - DataHandler - INFO - Calculando stats intermediárias...
2025-04-19 17:58:25 - DataHandler - INFO - ->Result/IsDraw/Ptos OK.
2025-04-19 17:58:25 - DataHandler - INFO - ->Calculando p_H/D/A (ausentes)...
2025-04-19 17:58:25 - DataHandler - INFO - Probabilidades Implícitas (p_H, p_D, p_A) calculadas.
2025-04-19 17:58:25 - DataHandler - INFO - ->VG/CG Raw OK.
2025-04-19 17:58:25 - DataHandler - INFO - Cálculo Intermediárias concluído.
2025-04-19 17:58:25 - DataHandler - INFO - Probabilidades Normalizadas (p_X_norm, abs_ProbDiff_Norm) calculadas.
2025-04-19 17:58:25 - DataHandler - INFO - Iniciando cálculo Médias Rolling (Janela=7)...
2025-04-19 17:58:25 - DataHandler - INFO - Calculando Médias rolling para: ['VG_H', 'VG_A', 'CG_H', 'CG_A']
2025-04-19 17:58:28 - DataHandler - INFO - Médias Rolling calculadas. Colunas adicionadas: ['Media_VG_H', 'Media_VG_A', 'Media_CG_H', 'Media_CG_A']
2025-04-19 17:58:28 - DataHandler - INFO - Iniciando cálculo Desvio Padrão Rolling (Janela=7)...
2025-04-19 17:58:28 - DataHandler - INFO - Calculando StDev rolling para: ['CG_H', 'CG_A']
2025-04-19 17:58:31 - DataHandler - INFO - StDev Rolling calculado. Colunas adicionadas: ['Std_CG_H', 'Std_CG_A']
2025-04-19 17:58:31 - DataHandler - INFO - Calculando Rolling Gols e Forças FA/FD (Janela=7)...
2025-04-19 17:58:33 - DataHandler - INFO - Rolling Gols/FA/FD calculado. Colunas: ['Avg_Gols_Marcados_H', 'Avg_Gols_Sofridos_H', 'FA_H', 'FD_H', 'Avg_Gols_Marcados_A', 'Avg_Gols_Sofridos_A', 'FA_A', 'FD_A']
2025-04-19 17:58:34 - DataHandler - INFO - Calculando Prob Empate (Poisson Refinado, max_gols=5)...
2025-04-19 17:58:34 - DataHandler - INFO - Prob_Empate_Poisson (Refinado) calculado.
2025-04-19 17:58:34 - DataHandler - INFO - Binning ('Odd_D_Cat') calculado a partir de 'Odd_D_FT'.
2025-04-19 17:58:34 - DataHandler - INFO - Calculando features derivadas (CV_HDA, Diff_Media_CG)...
2025-04-19 17:58:34 - DataHandler - INFO - Selecionando features FINAIS da config: ['p_D_norm', 'Media_CG_A', 'Media_CG_H', 'Media_VG_H', 'Media_VG_A', 'CV_HDA', 'Std_CG_A', 'Std_CG_H', 'Prob_Empate_Poisson', 'XG_Total']
2025-04-19 17:58:34 - DataHandler - INFO - DF selecionado para dropna final: (23607, 11). Verificando NaNs nas features selecionadas...
2025-04-19 17:58:34 - DataHandler - WARNING - NaNs encontrados ANTES do dropna final (nas features a serem usadas):
Media_CG_A     167
Media_CG_H     180
Media_VG_H     119
Media_VG_A     114
Std_CG_A       346
Std_CG_H       330
XG_Total      8101
dtype: int64
2025-04-19 17:58:34 - DataHandler - INFO - Removidas 8227 linhas com NaNs (nas features selecionadas ou no alvo).
2025-04-19 17:58:34 - DataHandler - INFO - --- Pré-proc Histórico OK --- Shape X:(15380, 10), y:(15380,).
2025-04-19 17:58:34 - DataHandler - INFO - Calculando stats intermediárias...
2025-04-19 17:58:34 - DataHandler - INFO - ->Result/IsDraw/Ptos OK.
2025-04-19 17:58:34 - DataHandler - INFO - ->Calculando p_H/D/A (ausentes)...
2025-04-19 17:58:34 - DataHandler - INFO - Probabilidades Implícitas (p_H, p_D, p_A) calculadas.
2025-04-19 17:58:34 - DataHandler - INFO - ->VG/CG Raw OK.
2025-04-19 17:58:34 - DataHandler - INFO - Cálculo Intermediárias concluído.
2025-04-19 17:58:34 - Main2 - INFO - DEBUG Main: df_full_data_aligned_for_split criado com shape (15380, 27)
2025-04-19 17:58:34 - ModelTrainerApp - INFO - --- Treinando/Calibrando 5 Modelos ---
2025-04-19 17:58:34 - ModelTrainerApp - INFO - Dividindo dados...
2025-04-19 17:58:34 - ModelTrainerApp - INFO - Split: Treino=9228, Val=3076, Teste=3076
2025-04-19 17:58:34 - ModelTrainerApp - INFO - --- DEBUG: Verificando X_test_with_odds (<class 'pandas.core.frame.DataFrame'>) ---
2025-04-19 17:58:34 - ModelTrainerApp - INFO - DEBUG: X_tst_odds shape (15380, 27). Col Odd ('Odd_D_FT'): True
2025-04-19 17:58:34 - ModelTrainerApp - INFO - DEBUG: Idx Val:3076/Hist:15380 -> Intersec:3076
2025-04-19 17:58:34 - ModelTrainerApp - INFO - DEBUG: X_val_odds CRIADO (3076, 1).
2025-04-19 17:58:34 - ModelTrainerApp - INFO - DEBUG: Idx Teste:3076/Hist:15380 -> Intersec:3076
2025-04-19 17:58:34 - ModelTrainerApp - INFO - DEBUG: X_test_odds CRIADO (3076, 1).
2025-04-19 17:58:34 - ModelTrainerApp - INFO - 
--- Modelo 1/5:RandomForestClassifier ---
2025-04-19 17:58:34 - ModelTrainerApp - INFO -   Scaling não requerido.
2025-04-19 17:58:34 - ModelTrainerApp - INFO -     -> GridSearch criado.
2025-04-19 17:58:34 - ModelTrainerApp - INFO -   Iniciando GridSearchCV...
2025-04-19 18:19:50 - ModelTrainerApp - INFO -     -> GridSearch OK. CV F1: 0.4331. Params: {'bootstrap': True, 'class_weight': 'balanced', 'criterion': 'entropy', 'max_depth': 5, 'max_features': 'sqrt', 'min_samples_leaf': 3, 'min_samples_split': 20, 'n_estimators': 150}
2025-04-19 18:19:50 - ModelTrainerApp - INFO -   Calibrando probs com isotonic...
2025-04-19 18:19:50 - ModelTrainerApp - INFO -   -> Calibrador treinado.
2025-04-19 18:19:50 - ModelTrainerApp - INFO -   Otimizando limiar EV (Val)...
2025-04-19 18:19:50 - ModelTrainerApp - INFO - DEBUG CALIB: Probs Val Calibradas (Min: 0.0000, Max: 0.7500, Mean: 0.2942, Std: 0.0721)
2025-04-19 18:19:50 - ModelTrainerApp - INFO - DEBUG CALIB: Contagem de valores únicos Calib (Top 10): 
0.315047    1276
0.245968     744
0.387218     266
0.375000     240
0.162963     135
0.218487     119
0.278481      79
0.136986      73
0.128205      39
0.552632      38
Name: count, dtype: int64
2025-04-19 18:19:50 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.000): ROI=9.47%, Bets=1229, Profit=116.41000000000001
2025-04-19 18:19:50 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.010): ROI=7.41%, Bets=1082, Profit=80.22999999999995
2025-04-19 18:19:51 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.020): ROI=7.92%, Bets=1051, Profit=83.26999999999994
2025-04-19 18:19:51 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.030): ROI=8.10%, Bets=933, Profit=75.58999999999988
2025-04-19 18:19:51 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.040): ROI=14.19%, Bets=805, Profit=114.20999999999994
2025-04-19 18:19:51 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.050): ROI=15.42%, Bets=766, Profit=118.12999999999992
2025-04-19 18:19:51 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.060): ROI=16.10%, Bets=724, Profit=116.58999999999997
2025-04-19 18:19:51 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.070): ROI=15.12%, Bets=669, Profit=101.15999999999995
2025-04-19 18:19:51 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.080): ROI=14.56%, Bets=596, Profit=86.79999999999991
2025-04-19 18:19:51 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.090): ROI=19.44%, Bets=523, Profit=101.68999999999988
2025-04-19 18:19:51 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.100): ROI=19.77%, Bets=505, Profit=99.81999999999991
2025-04-19 18:19:51 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.110): ROI=21.90%, Bets=437, Profit=95.7099999999999
2025-04-19 18:19:51 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.120): ROI=22.80%, Bets=421, Profit=95.98999999999988
2025-04-19 18:19:51 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.130): ROI=25.75%, Bets=353, Profit=90.89999999999992
2025-04-19 18:19:51 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.140): ROI=24.80%, Bets=332, Profit=82.33999999999993
2025-04-19 18:19:51 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.150): ROI=24.75%, Bets=302, Profit=74.73
2025-04-19 18:19:51 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.160): ROI=26.68%, Bets=286, Profit=76.3
2025-04-19 18:19:51 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.170): ROI=28.09%, Bets=224, Profit=62.93000000000001
2025-04-19 18:19:51 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.180): ROI=30.76%, Bets=210, Profit=64.6
2025-04-19 18:19:51 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.190): ROI=30.53%, Bets=189, Profit=57.70000000000001
2025-04-19 18:19:51 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.200): ROI=31.19%, Bets=182, Profit=56.76
2025-04-19 18:19:51 - ModelTrainerApp - INFO -     Limiar EV ótimo(Val): 0.200 (ROI=31.19%)
2025-04-19 18:19:51 - ModelTrainerApp - INFO -   Avaliando teste (Estratégia EV > 0.200)...
2025-04-19 18:19:51 - ModelTrainerApp - INFO -     -> Base Metrics@0.5: Acc=0.4828, F1=0.4561, P=0.3302, R=0.7370
2025-04-19 18:19:51 - ModelTrainerApp - INFO -     -> ROI@0.5: ROI=2.36%, Bets=2020
2025-04-19 18:19:51 - ModelTrainerApp - INFO -     -> LogLoss(Raw)=0.6810
2025-04-19 18:19:51 - ModelTrainerApp - INFO -     -> AUC(Calib)=0.5665
2025-04-19 18:19:51 - ModelTrainerApp - INFO -     -> Brier(Calib)=0.2058
2025-04-19 18:19:51 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.200): ROI=10.77%, Bets=158, Profit=17.019999999999996
2025-04-19 18:19:51 - ModelTrainerApp - INFO -     ==> DEBUG: Adicionando resultado RandomForestClassifier (Eval OK: True)
2025-04-19 18:19:51 - ModelTrainerApp - INFO -   Tempo p/ RandomForestClassifier (total): 1277.20 seg.
2025-04-19 18:19:51 - ModelTrainerApp - INFO - 
--- Modelo 2/5:LogisticRegression ---
2025-04-19 18:19:51 - ModelTrainerApp - INFO -   Scaling p/ LogisticRegression (scaler=standard)...
2025-04-19 18:19:51 - ModelTrainerApp - INFO -     -> Ajustando StandardScaler no treino...
2025-04-19 18:19:51 - ModelTrainerApp - INFO -     -> Aplicando transform em treino, validação e teste...
2025-04-19 18:19:51 - ModelTrainerApp - INFO -     -> Scaling OK para LogisticRegression.
2025-04-19 18:19:51 - ModelTrainerApp - INFO -     -> GridSearch criado.
2025-04-19 18:19:51 - ModelTrainerApp - INFO -   Iniciando GridSearchCV...
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     -> GridSearch OK. CV F1: 0.4339. Params: {'C': 0.05, 'class_weight': 'balanced', 'penalty': 'l1', 'solver': 'liblinear'}
2025-04-19 18:19:53 - ModelTrainerApp - INFO -   Calibrando probs com isotonic...
2025-04-19 18:19:53 - ModelTrainerApp - INFO -   -> Calibrador treinado.
2025-04-19 18:19:53 - ModelTrainerApp - INFO -   Otimizando limiar EV (Val)...
2025-04-19 18:19:53 - ModelTrainerApp - INFO - DEBUG CALIB: Probs Val Calibradas (Min: 0.0000, Max: 1.0000, Mean: 0.2942, Std: 0.0675)
2025-04-19 18:19:53 - ModelTrainerApp - INFO - DEBUG CALIB: Contagem de valores únicos Calib (Top 10): 
0.323748    1078
0.318930     486
0.240781     461
0.286325     234
0.265487     226
0.362573     171
0.360000     100
0.101010      99
0.155844      77
0.500000      50
Name: count, dtype: int64
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.000): ROI=5.12%, Bets=1357, Profit=69.54000000000008
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.010): ROI=3.44%, Bets=1136, Profit=39.06000000000001
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.020): ROI=5.07%, Bets=994, Profit=50.41000000000001
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.030): ROI=5.19%, Bets=907, Profit=47.08000000000002
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.040): ROI=2.54%, Bets=718, Profit=18.269999999999996
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.050): ROI=5.36%, Bets=656, Profit=35.169999999999995
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.060): ROI=10.51%, Bets=520, Profit=54.66999999999998
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.070): ROI=14.64%, Bets=410, Profit=60.03
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.080): ROI=12.02%, Bets=363, Profit=43.62999999999999
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.090): ROI=13.29%, Bets=287, Profit=38.14999999999999
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.100): ROI=8.92%, Bets=262, Profit=23.35999999999999
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.110): ROI=14.05%, Bets=197, Profit=27.67
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.120): ROI=17.69%, Bets=155, Profit=27.42
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.130): ROI=14.21%, Bets=140, Profit=19.889999999999997
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.140): ROI=18.62%, Bets=117, Profit=21.789999999999996
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.150): ROI=25.12%, Bets=90, Profit=22.60999999999999
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.160): ROI=20.72%, Bets=85, Profit=17.61
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.170): ROI=23.83%, Bets=76, Profit=18.11
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.180): ROI=24.00%, Bets=74, Profit=17.759999999999998
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.190): ROI=27.62%, Bets=69, Profit=19.060000000000002
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.200): ROI=31.81%, Bets=64, Profit=20.359999999999996
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     Limiar EV ótimo(Val): 0.200 (ROI=31.81%)
2025-04-19 18:19:53 - ModelTrainerApp - INFO -   Avaliando teste (Estratégia EV > 0.200)...
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     -> Base Metrics@0.5: Acc=0.5101, F1=0.4474, P=0.3348, R=0.6740
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     -> ROI@0.5: ROI=3.16%, Bets=1822
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     -> LogLoss(Raw)=0.6861
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     -> AUC(Calib)=0.5745
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     -> Brier(Calib)=0.2046
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.200): ROI=-3.00%, Bets=50, Profit=-1.4999999999999973
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     ==> DEBUG: Adicionando resultado LogisticRegression (Eval OK: True)
2025-04-19 18:19:53 - ModelTrainerApp - INFO -   Tempo p/ LogisticRegression (total): 2.00 seg.
2025-04-19 18:19:53 - ModelTrainerApp - INFO - 
--- Modelo 3/5:SVC ---
2025-04-19 18:19:53 - ModelTrainerApp - INFO -   Scaling p/ SVC (scaler=standard)...
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     -> Ajustando StandardScaler no treino...
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     -> Aplicando transform em treino, validação e teste...
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     -> Scaling OK para SVC.
2025-04-19 18:19:53 - ModelTrainerApp - INFO -     -> GridSearch criado.
2025-04-19 18:19:53 - ModelTrainerApp - INFO -   Iniciando GridSearchCV...
2025-04-19 19:04:17 - ModelTrainerApp - INFO -     -> GridSearch OK. CV F1: 0.4531. Params: {'C': 0.5, 'class_weight': 'balanced', 'decision_function_shape': 'ovo', 'degree': 2, 'gamma': 'auto', 'kernel': 'poly'}
2025-04-19 19:04:17 - ModelTrainerApp - INFO -   Calibrando probs com isotonic...
2025-04-19 19:04:17 - ModelTrainerApp - INFO -   -> Calibrador treinado.
2025-04-19 19:04:17 - ModelTrainerApp - INFO -   Otimizando limiar EV (Val)...
2025-04-19 19:04:17 - ModelTrainerApp - INFO - DEBUG CALIB: Probs Val Calibradas (Min: 0.0000, Max: 0.3750, Mean: 0.2942, Std: 0.0523)
2025-04-19 19:04:17 - ModelTrainerApp - INFO - DEBUG CALIB: Contagem de valores únicos Calib (Top 10): 
0.316943    1688
0.290411     730
0.130208     192
0.375000     136
0.232000     125
0.294737      95
0.179104      67
0.321429      28
0.272727      11
0.333333       3
Name: count, dtype: int64
2025-04-19 19:04:17 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.000): ROI=-2.46%, Bets=1409, Profit=-34.65000000000003
2025-04-19 19:04:17 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.010): ROI=-2.76%, Bets=1362, Profit=-37.53
2025-04-19 19:04:17 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.020): ROI=-2.98%, Bets=1222, Profit=-36.38000000000003
2025-04-19 19:04:17 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.030): ROI=-3.27%, Bets=1199, Profit=-39.19
2025-04-19 19:04:17 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.040): ROI=-3.52%, Bets=1081, Profit=-38.010000000000005
2025-04-19 19:04:17 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.050): ROI=-1.81%, Bets=922, Profit=-16.69999999999998
2025-04-19 19:04:17 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.060): ROI=-2.88%, Bets=898, Profit=-25.89999999999999
2025-04-19 19:04:17 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.070): ROI=-5.17%, Bets=839, Profit=-43.370000000000005
2025-04-19 19:04:17 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.080): ROI=-3.87%, Bets=732, Profit=-28.359999999999996
2025-04-19 19:04:17 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.090): ROI=-6.25%, Bets=702, Profit=-43.90999999999998
2025-04-19 19:04:17 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.100): ROI=-4.83%, Bets=655, Profit=-31.65999999999997
2025-04-19 19:04:17 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.110): ROI=-4.84%, Bets=565, Profit=-27.319999999999997
2025-04-19 19:04:17 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.120): ROI=-4.98%, Bets=549, Profit=-27.34
2025-04-19 19:04:17 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.130): ROI=-3.32%, Bets=515, Profit=-17.090000000000003
2025-04-19 19:04:17 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.140): ROI=-4.20%, Bets=496, Profit=-20.849999999999998
2025-04-19 19:04:17 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.150): ROI=-4.74%, Bets=441, Profit=-20.909999999999986
2025-04-19 19:04:17 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.160): ROI=-1.23%, Bets=408, Profit=-5.020000000000001
2025-04-19 19:04:17 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.170): ROI=-2.31%, Bets=381, Profit=-8.790000000000006
2025-04-19 19:04:17 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.180): ROI=0.40%, Bets=352, Profit=1.4100000000000001
2025-04-19 19:04:17 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.190): ROI=-0.22%, Bets=319, Profit=-0.7000000000000077
2025-04-19 19:04:17 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.200): ROI=-1.53%, Bets=304, Profit=-4.640000000000004
2025-04-19 19:04:17 - ModelTrainerApp - INFO -     Limiar EV ótimo(Val): 0.180 (ROI=0.40%)
2025-04-19 19:04:17 - ModelTrainerApp - INFO -   Avaliando teste (Estratégia EV > 0.180)...
2025-04-19 19:04:18 - ModelTrainerApp - INFO -     -> Base Metrics@0.5: Acc=0.3761, F1=0.4509, P=0.3042, R=0.8707
2025-04-19 19:04:18 - ModelTrainerApp - INFO -     -> ROI@0.5: ROI=0.00%, Bets=0
2025-04-19 19:04:18 - ModelTrainerApp - INFO -     -> LogLoss(Raw)=0.6042
2025-04-19 19:04:18 - ModelTrainerApp - INFO -     -> AUC(Calib)=0.5265
2025-04-19 19:04:18 - ModelTrainerApp - INFO -     -> Brier(Calib)=0.2076
2025-04-19 19:04:18 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.180): ROI=-13.23%, Bets=330, Profit=-43.66000000000001
2025-04-19 19:04:18 - ModelTrainerApp - INFO -     ==> DEBUG: Adicionando resultado SVC (Eval OK: True)
2025-04-19 19:04:18 - ModelTrainerApp - INFO -   Tempo p/ SVC (total): 2665.31 seg.
2025-04-19 19:04:18 - ModelTrainerApp - INFO - 
--- Modelo 4/5:GaussianNB ---
2025-04-19 19:04:18 - ModelTrainerApp - INFO -   Scaling não requerido.
2025-04-19 19:04:18 - ModelTrainerApp - INFO -     -> GridSearch criado.
2025-04-19 19:04:18 - ModelTrainerApp - INFO -   Iniciando GridSearchCV...
2025-04-19 19:04:18 - ModelTrainerApp - INFO -     -> GridSearch OK. CV F1: 0.0007. Params: {'var_smoothing': np.float64(0.01)}
2025-04-19 19:04:18 - ModelTrainerApp - INFO -   Calibrando probs com isotonic...
2025-04-19 19:04:18 - ModelTrainerApp - INFO -   -> Calibrador treinado.
2025-04-19 19:04:18 - ModelTrainerApp - INFO -   Otimizando limiar EV (Val)...
2025-04-19 19:04:18 - ModelTrainerApp - INFO - DEBUG CALIB: Probs Val Calibradas (Min: 0.0000, Max: 0.6667, Mean: 0.2942, Std: 0.0623)
2025-04-19 19:04:18 - ModelTrainerApp - INFO - DEBUG CALIB: Contagem de valores únicos Calib (Top 10): 
0.336343    1329
0.275194     516
0.250689     363
0.370166     181
0.300000     130
0.104000     125
0.183673      98
0.309524      84
0.229730      74
0.184615      65
Name: count, dtype: int64
2025-04-19 19:04:18 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.000): ROI=6.04%, Bets=1423, Profit=85.87999999999998
2025-04-19 19:04:18 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.010): ROI=10.01%, Bets=1202, Profit=120.31999999999984
2025-04-19 19:04:18 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.020): ROI=10.68%, Bets=1149, Profit=122.76999999999984
2025-04-19 19:04:18 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.030): ROI=9.36%, Bets=1046, Profit=97.88000000000007
2025-04-19 19:04:19 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.040): ROI=9.60%, Bets=993, Profit=95.34000000000007
2025-04-19 19:04:19 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.050): ROI=10.77%, Bets=820, Profit=88.32000000000005
2025-04-19 19:04:19 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.060): ROI=13.51%, Bets=694, Profit=93.74000000000007
2025-04-19 19:04:19 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.070): ROI=12.93%, Bets=650, Profit=84.05000000000001
2025-04-19 19:04:19 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.080): ROI=15.41%, Bets=513, Profit=79.03999999999998
2025-04-19 19:04:19 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.090): ROI=14.58%, Bets=480, Profit=69.97
2025-04-19 19:04:19 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.100): ROI=12.68%, Bets=370, Profit=46.92999999999999
2025-04-19 19:04:19 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.110): ROI=18.83%, Bets=283, Profit=53.290000000000006
2025-04-19 19:04:19 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.120): ROI=10.65%, Bets=239, Profit=25.460000000000004
2025-04-19 19:04:19 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.130): ROI=4.16%, Bets=194, Profit=8.070000000000002
2025-04-19 19:04:19 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.140): ROI=-0.41%, Bets=176, Profit=-0.7299999999999982
2025-04-19 19:04:19 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.150): ROI=-0.77%, Bets=108, Profit=-0.8299999999999974
2025-04-19 19:04:19 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.160): ROI=-6.17%, Bets=102, Profit=-6.289999999999997
2025-04-19 19:04:19 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.170): ROI=0.27%, Bets=77, Profit=0.21000000000000085
2025-04-19 19:04:19 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.180): ROI=8.98%, Bets=58, Profit=5.209999999999999
2025-04-19 19:04:19 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.190): ROI=2.22%, Bets=49, Profit=1.0900000000000003
2025-04-19 19:04:19 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.200): ROI=4.85%, Bets=41, Profit=1.9899999999999998
2025-04-19 19:04:19 - ModelTrainerApp - INFO -     Limiar EV ótimo(Val): 0.110 (ROI=18.83%)
2025-04-19 19:04:19 - ModelTrainerApp - INFO -   Avaliando teste (Estratégia EV > 0.110)...
2025-04-19 19:04:19 - ModelTrainerApp - INFO -     -> Base Metrics@0.5: Acc=0.7058, F1=0.0000, P=0.0000, R=0.0000
2025-04-19 19:04:19 - ModelTrainerApp - INFO -     -> ROI@0.5: ROI=0.00%, Bets=0
2025-04-19 19:04:19 - ModelTrainerApp - INFO -     -> LogLoss(Raw)=0.6065
2025-04-19 19:04:19 - ModelTrainerApp - INFO -     -> AUC(Calib)=0.5681
2025-04-19 19:04:19 - ModelTrainerApp - INFO -     -> Brier(Calib)=0.2052
2025-04-19 19:04:19 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.110): ROI=5.28%, Bets=260, Profit=13.719999999999999
2025-04-19 19:04:19 - ModelTrainerApp - INFO -     ==> DEBUG: Adicionando resultado GaussianNB (Eval OK: True)
2025-04-19 19:04:19 - ModelTrainerApp - INFO -   Tempo p/ GaussianNB (total): 0.45 seg.
2025-04-19 19:04:19 - ModelTrainerApp - INFO - 
--- Modelo 5/5:KNeighborsClassifier ---
2025-04-19 19:04:19 - ModelTrainerApp - INFO -   Scaling p/ KNeighborsClassifier (scaler=standard)...
2025-04-19 19:04:19 - ModelTrainerApp - INFO -     -> Ajustando StandardScaler no treino...
2025-04-19 19:04:19 - ModelTrainerApp - INFO -     -> Aplicando transform em treino, validação e teste...
2025-04-19 19:04:19 - ModelTrainerApp - INFO -     -> Scaling OK para KNeighborsClassifier.
2025-04-19 19:04:19 - ModelTrainerApp - INFO -     -> GridSearch criado.
2025-04-19 19:04:19 - ModelTrainerApp - INFO -   Iniciando GridSearchCV...
2025-04-19 19:04:49 - ModelTrainerApp - INFO -     -> GridSearch OK. CV F1: 0.2216. Params: {'metric': 'minkowski', 'n_neighbors': 5, 'p': 1, 'weights': 'distance'}
2025-04-19 19:04:49 - ModelTrainerApp - INFO -   Calibrando probs com isotonic...
2025-04-19 19:04:50 - ModelTrainerApp - INFO -   -> Calibrador treinado.
2025-04-19 19:04:50 - ModelTrainerApp - INFO -   Otimizando limiar EV (Val)...
2025-04-19 19:04:50 - ModelTrainerApp - INFO - DEBUG CALIB: Probs Val Calibradas (Min: 0.2491, Max: 0.6667, Mean: 0.2942, Std: 0.0338)
2025-04-19 19:04:50 - ModelTrainerApp - INFO - DEBUG CALIB: Contagem de valores únicos Calib (Top 10): 
0.306897    870
0.293223    723
0.249117    566
0.275720    486
0.344023    343
0.340909     44
0.388889     18
0.300000     10
0.400000     10
0.666667      6
Name: count, dtype: int64
2025-04-19 19:04:50 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.000): ROI=-2.19%, Bets=1221, Profit=-26.74
2025-04-19 19:04:50 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.010): ROI=-1.70%, Bets=1190, Profit=-20.180000000000017
2025-04-19 19:04:50 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.020): ROI=-0.64%, Bets=1105, Profit=-7.039999999999996
2025-04-19 19:04:50 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.030): ROI=-1.98%, Bets=1035, Profit=-20.449999999999992
2025-04-19 19:04:50 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.040): ROI=-3.00%, Bets=969, Profit=-29.09999999999999
2025-04-19 19:04:50 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.050): ROI=-3.85%, Bets=884, Profit=-33.98999999999999
2025-04-19 19:04:50 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.060): ROI=-5.33%, Bets=835, Profit=-44.48999999999998
2025-04-19 19:04:50 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.070): ROI=-6.70%, Bets=790, Profit=-52.909999999999975
2025-04-19 19:04:50 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.080): ROI=-5.69%, Bets=751, Profit=-42.710000000000015
2025-04-19 19:04:50 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.090): ROI=-6.56%, Bets=699, Profit=-45.83000000000003
2025-04-19 19:04:50 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.100): ROI=-7.71%, Bets=668, Profit=-51.47999999999999
2025-04-19 19:04:50 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.110): ROI=-9.71%, Bets=611, Profit=-59.32999999999998
2025-04-19 19:04:50 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.120): ROI=-14.61%, Bets=576, Profit=-84.14999999999996
2025-04-19 19:04:50 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.130): ROI=-14.29%, Bets=549, Profit=-78.44999999999999
2025-04-19 19:04:50 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.140): ROI=-12.16%, Bets=508, Profit=-61.749999999999986
2025-04-19 19:04:50 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.150): ROI=-12.20%, Bets=492, Profit=-59.99999999999997
2025-04-19 19:04:50 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.160): ROI=-15.91%, Bets=459, Profit=-73.03999999999999
2025-04-19 19:04:50 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.170): ROI=-15.99%, Bets=423, Profit=-67.61999999999996
2025-04-19 19:04:50 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.180): ROI=-16.41%, Bets=406, Profit=-66.61999999999996
2025-04-19 19:04:50 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.190): ROI=-14.65%, Bets=381, Profit=-55.819999999999965
2025-04-19 19:04:50 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.200): ROI=-15.42%, Bets=366, Profit=-56.449999999999974
2025-04-19 19:04:50 - ModelTrainerApp - INFO -     Limiar EV ótimo(Val): 0.020 (ROI=-0.64%)
2025-04-19 19:04:50 - ModelTrainerApp - INFO -   Avaliando teste (Estratégia EV > 0.020)...
2025-04-19 19:04:50 - ModelTrainerApp - INFO -     -> Base Metrics@0.5: Acc=0.6385, F1=0.2057, P=0.2909, R=0.1591
2025-04-19 19:04:51 - ModelTrainerApp - INFO -     -> ROI@0.5: ROI=-6.21%, Bets=495
2025-04-19 19:04:51 - ModelTrainerApp - INFO -     -> LogLoss(Raw)=2.5117
2025-04-19 19:04:51 - ModelTrainerApp - INFO -     -> AUC(Calib)=0.4965
2025-04-19 19:04:51 - ModelTrainerApp - INFO -     -> Brier(Calib)=0.2091
2025-04-19 19:04:51 - ModelTrainerApp - INFO -     -> Métricas EV (Th=0.020): ROI=-11.63%, Bets=1073, Profit=-124.82999999999994
2025-04-19 19:04:51 - ModelTrainerApp - INFO -     ==> DEBUG: Adicionando resultado KNeighborsClassifier (Eval OK: True)
2025-04-19 19:04:51 - ModelTrainerApp - INFO -   Tempo p/ KNeighborsClassifier (total): 31.97 seg.
2025-04-19 19:04:51 - ModelTrainerApp - INFO - --- Treino concluído (3976.95 seg) ---
2025-04-19 19:04:51 - ModelTrainerApp - INFO - --- DEBUG: Iniciando processamento de 5 resultados ---
2025-04-19 19:04:51 - ModelTrainerApp - INFO - DEBUG SELEÇÃO: DF pós conversão:
               model_name  f1_score_draw        roi  optimal_threshold
0  RandomForestClassifier       0.456068  10.772152               0.20
1      LogisticRegression       0.447378  -3.000000               0.20
2                     SVC       0.450930 -13.230303               0.18
3              GaussianNB       0.000000   5.276923               0.11
4    KNeighborsClassifier       0.205714 -11.633737               0.02
2025-04-19 19:04:51 - ModelTrainerApp - INFO - DEBUG SELEÇÃO: Tipos F1/ROI:float64/float64
2025-04-19 19:04:51 - ModelTrainerApp - INFO - DEBUG SELEÇÃO: Ordenando F1...
2025-04-19 19:04:51 - ModelTrainerApp - INFO - DEBUG SELEÇÃO: Ranking F1:
               model_name  f1_score_draw        roi
0  RandomForestClassifier       0.456068  10.772152
1                     SVC       0.450930 -13.230303
2      LogisticRegression       0.447378  -3.000000
3    KNeighborsClassifier       0.205714 -11.633737
4              GaussianNB       0.000000   5.276923
2025-04-19 19:04:51 - ModelTrainerApp - INFO - SELEÇÃO: Melhor F1: RandomForestClassifier (F1=0.4561)
2025-04-19 19:04:51 - ModelTrainerApp - INFO - DEBUG SELEÇÃO: Ordenando ROI...
2025-04-19 19:04:51 - ModelTrainerApp - INFO - DEBUG SELEÇÃO: Ranking ROI:
               model_name  f1_score_draw        roi
0  RandomForestClassifier       0.456068  10.772152
1              GaussianNB       0.000000   5.276923
2      LogisticRegression       0.447378  -3.000000
3    KNeighborsClassifier       0.205714 -11.633737
4                     SVC       0.450930 -13.230303
2025-04-19 19:04:51 - ModelTrainerApp - INFO - DEBUG SELEÇÃO: Procurando ROI válido (> -inf)...
2025-04-19 19:04:51 - ModelTrainerApp - INFO -   -> Verificando ROI RandomForestClassifier:10.772151898734176(<class 'float'>)
2025-04-19 19:04:51 - ModelTrainerApp - INFO -   -> ENCONTRADO Melhor ROI:RandomForestClassifier(ROI=10.7722)
2025-04-19 19:04:51 - ModelTrainerApp - INFO - SELEÇÃO: Melhor ROI Válido:RandomForestClassifier(ROI=10.77%)
2025-04-19 19:04:51 - ModelTrainerApp - INFO - --- DEBUG SELEÇÃO: Decidindo slot ROI ---
2025-04-19 19:04:51 - ModelTrainerApp - INFO -   Best F1:RandomForestClassifier
2025-04-19 19:04:51 - ModelTrainerApp - INFO -   Best ROI:RandomForestClassifier
2025-04-19 19:04:51 - ModelTrainerApp - INFO -   DEBUG: F1 e ROI mesmo modelo.
2025-04-19 19:04:51 - ModelTrainerApp - INFO -   -> Usando 2º F1(SVC) p/ ROI.
2025-04-19 19:04:51 - ModelTrainerApp - INFO - DEBUG FINAL: Modelo _f1:RandomForestClassifier
2025-04-19 19:04:51 - ModelTrainerApp - INFO - DEBUG FINAL: Modelo _roi:SVC
2025-04-19 19:04:51 - ModelTrainerApp - INFO - Salvando Melhor F1 (RandomForestClassifier)...
2025-04-19 19:04:51 - ModelTrainerApp - INFO -   -> Modelo 'RandomForestClassifier' (EV Thresh=0.200) salvo em best_model_backdraw_best_f1.joblib.
2025-04-19 19:04:51 - ModelTrainerApp - INFO - Salvando Melhor ROI/2nd F1 (SVC)...
2025-04-19 19:04:51 - ModelTrainerApp - INFO -   -> Modelo 'SVC' (EV Thresh=0.180) salvo em best_model_backdraw_best_roi.joblib.
2025-04-19 19:04:51 - ModelTrainerApp - INFO - --- Processo Completo ---
2025-04-19 19:04:51 - PredictorApp - INFO - Modelo carregado: best_model_backdraw_best_f1.joblib (Modif.: 2025-04-19 19:04:51)
2025-04-19 19:04:51 - PredictorApp - INFO -   Tipo Modelo: RandomForestClassifier
2025-04-19 19:04:51 - PredictorApp - INFO -   Calibrador: Sim
2025-04-19 19:04:51 - PredictorApp - INFO -   Limiar EV Carregado: 0.2000
2025-04-19 19:04:51 - PredictorApp - INFO - Modelo carregado: best_model_backdraw_best_roi.joblib (Modif.: 2025-04-19 19:04:51)
2025-04-19 19:04:51 - PredictorApp - INFO -   Tipo Modelo: SVC
2025-04-19 19:04:51 - PredictorApp - INFO -   Calibrador: Sim
2025-04-19 19:04:51 - PredictorApp - INFO -   Limiar EV Carregado: 0.1800
2025-04-19 19:05:22 - DataHandler - INFO - Iniciando carregamento e mapeamento de ligas de dados históricos...
2025-04-19 19:05:22 - DataHandler - INFO - Lendo Base_de_Dados_FootyStats_(2006_2021).csv...
2025-04-19 19:05:24 - DataHandler - INFO -   -> Lido 169433 linhas.
2025-04-19 19:05:24 - DataHandler - INFO -   Aplicando mapeamento de liga específico para Base_de_Dados_FootyStats_(2006_2021).csv (Coluna original: 'League')...
2025-04-19 19:05:24 - DataHandler - WARNING -     Ligas NÃO mapeadas (mapa específico) em Base_de_Dados_FootyStats_(2006_2021).csv: ['Argentina Primera DivisiÃ³n', 'Austria 2. Liga', 'Austria Bundesliga', 'Belgium Pro League', 'Bulgaria First League', 'Chile Primera DivisiÃ³n', 'China Chinese Super League', 'Croatia Prva HNL', 'Czech Republic First League', 'Denmark Superliga', 'Egypt Egyptian Premier League', 'England Championship', 'England EFL League One', 'England EFL League Two', 'England Premier League', 'Estonia Meistriliiga', 'Finland Veikkausliiga', 'France Ligue 1', 'France Ligue 2', 'Germany 2. Bundesliga', 'Germany Bundesliga', 'Greece Super League', 'Iceland Ã\x9arvalsdeild', 'Japan J1 League', 'Japan J2 League', 'Netherlands Eerste Divisie', 'Netherlands Eredivisie', 'Norway Eliteserien', 'Norway First Division', 'Paraguay Division Profesional', 'Poland Ekstraklasa', 'Portugal Liga NOS', 'Portugal LigaPro', 'Republic of Ireland Premier Division', 'Scotland Premiership', 'Serbia SuperLiga', 'Slovakia Super Liga', 'Slovenia PrvaLiga', 'South Korea K League 1', 'South Korea K League 2', 'Spain La Liga', 'Spain Segunda DivisiÃ³n', 'Sweden Allsvenskan', 'Sweden Superettan', 'Switzerland Challenge League', 'Switzerland Super League', 'Turkey SÃ¼per Lig', 'Uruguay Primera DivisiÃ³n', 'USA MLS', 'Wales Welsh Premier League']
2025-04-19 19:05:24 - DataHandler - INFO -   Filtro de Liga (pós-map) em Base_de_Dados_FootyStats_(2006_2021).csv: 20112/169433 jogos restantes.
2025-04-19 19:05:24 - DataHandler - INFO -   Aplicando mapeamento geral de colunas (CSV_HIST_COL_MAP) ao DF filtrado...
2025-04-19 19:05:24 - DataHandler - INFO -   DataFrame de Base_de_Dados_FootyStats_(2006_2021).csv processado e adicionado.
2025-04-19 19:05:24 - DataHandler - INFO - Lendo Base_de_Dados_FootyStats_(2022_2025).csv...
2025-04-19 19:05:24 - DataHandler - INFO -   -> Lido 49477 linhas.
2025-04-19 19:05:24 - DataHandler - INFO -   Aplicando mapeamento de liga específico para Base_de_Dados_FootyStats_(2022_2025).csv (Coluna original: 'League')...
2025-04-19 19:05:24 - DataHandler - WARNING -     Ligas NÃO mapeadas (mapa específico) em Base_de_Dados_FootyStats_(2022_2025).csv: ['PARAGUAY 1', 'CHILE 1', 'URUGUAY 1', 'JAPAN 1', 'IRELAND 1', 'JAPAN 2', 'SOUTH KOREA 2', 'SOUTH KOREA 1', 'USA 1', 'ESTONIA 1', 'FINLAND 1', 'SWEDEN 2', 'SWEDEN 1', 'NORWAY 1', 'NORWAY 2', 'ICELAND 1', 'CHINA 1', 'BULGARIA 1', 'SERBIA 1', 'POLAND 1', 'DENMARK 1', 'SWITZERLAND 2', 'CROATIA 1', 'SLOVENIA 1', 'SLOVAKIA 1', 'GERMANY 2', 'SWITZERLAND 1', 'AUSTRIA 2', 'AUSTRIA 1', 'BELGIUM 1', 'ENGLAND 2', 'SCOTLAND 1', 'FRANCE 2', 'ENGLAND 3', 'ENGLAND 4', 'CZECH 1', 'NETHERLANDS 2', 'NETHERLANDS 1', 'TURKEY 1', 'GERMANY 1', 'FRANCE 1', 'ENGLAND 1', 'PORTUGAL 1', 'PORTUGAL 2', 'WALES 1', 'SPAIN 1', 'GREECE 1', 'EGYPT 1']
2025-04-19 19:05:24 - DataHandler - INFO -   Filtro de Liga (pós-map) em Base_de_Dados_FootyStats_(2022_2025).csv: 8497/49477 jogos restantes.
2025-04-19 19:05:24 - DataHandler - INFO -   Aplicando mapeamento geral de colunas (CSV_HIST_COL_MAP) ao DF filtrado...
2025-04-19 19:05:24 - DataHandler - INFO -   DataFrame de Base_de_Dados_FootyStats_(2022_2025).csv processado e adicionado.
2025-04-19 19:05:24 - DataHandler - INFO - Concatenando 2 DFs processados...
2025-04-19 19:05:24 - DataHandler - INFO - DF histórico combinado e mapeado: (28609, 16)
2025-04-19 19:05:24 - DataHandler - INFO - Iniciando processamento comum pós-concatenação (Tipos, NaNs, Dropna Essencial, Ordenação)...
2025-04-19 19:05:24 - DataHandler - INFO - Verificando NaNs nas colunas essenciais finais: ['Date', 'Home', 'Away', 'Goals_H_FT', 'Goals_A_FT', 'Odd_H_FT', 'Odd_D_FT', 'Odd_A_FT']
2025-04-19 19:05:24 - DataHandler - INFO - Removidas 5002 linhas com NaNs essenciais finais.
2025-04-19 19:05:24 - DataHandler - INFO - DF histórico final ordenado por Data.
2025-04-19 19:05:24 - DataHandler - INFO - Carregamento e mapeamento históricos OK. Shape Final: (23607, 16)
2025-04-19 19:05:24 - DataHandler - INFO - Contagem de NaNs finais em colunas opcionais:
Odd_Over25_FT     7305
Odd_Under25_FT    7603
Odd_BTTS_Yes      7170
Odd_BTTS_No       7169
XG_H              8173
XG_A              8173
XG_Total          8101
dtype: int64
2025-04-19 19:05:24 - DataHandler - INFO - --- Iniciando Pré-processamento e Engenharia de Features (Histórico) ---
2025-04-19 19:05:24 - DataHandler - INFO - Médias Globais Liga (Histórico, NaN-ignored): Casa=1.379, Fora=1.034
2025-04-19 19:05:24 - DataHandler - INFO - Calculando stats intermediárias...
2025-04-19 19:05:24 - DataHandler - INFO - ->Result/IsDraw/Ptos OK.
2025-04-19 19:05:24 - DataHandler - INFO - ->Calculando p_H/D/A (ausentes)...
2025-04-19 19:05:24 - DataHandler - INFO - Probabilidades Implícitas (p_H, p_D, p_A) calculadas.
2025-04-19 19:05:24 - DataHandler - INFO - ->VG/CG Raw OK.
2025-04-19 19:05:24 - DataHandler - INFO - Cálculo Intermediárias concluído.
2025-04-19 19:05:24 - DataHandler - INFO - Probabilidades Normalizadas (p_X_norm, abs_ProbDiff_Norm) calculadas.
2025-04-19 19:05:24 - DataHandler - INFO - Iniciando cálculo Médias Rolling (Janela=7)...
2025-04-19 19:05:24 - DataHandler - INFO - Calculando Médias rolling para: ['VG_H', 'VG_A', 'CG_H', 'CG_A']
2025-04-19 19:05:27 - MainApp - INFO - Fechando aplicação.
2025-04-19 19:05:27 - DataHandler - INFO - Médias Rolling calculadas. Colunas adicionadas: ['Media_VG_H', 'Media_VG_A', 'Media_CG_H', 'Media_CG_A']
2025-04-19 19:05:27 - DataHandler - INFO - Iniciando cálculo Desvio Padrão Rolling (Janela=7)...
2025-04-19 19:05:27 - DataHandler - INFO - Calculando StDev rolling para: ['CG_H', 'CG_A']
