2025-04-23 07:21:26 - MainApp - INFO - APP_DIR (launcher): c:\Users\princ\Desktop\modelagem\Modelagem_Exemplos\futebol_analytics\src
2025-04-23 07:21:26 - MainApp - INFO - SRC_DIR: c:\Users\princ\Desktop\modelagem\Modelagem_Exemplos\futebol_analytics\src\src
2025-04-23 07:21:26 - MainApp - INFO - BASE_DIR: c:\Users\princ\Desktop\modelagem\Modelagem_Exemplos\futebol_analytics\src
2025-04-23 07:21:26 - MainApp - INFO - sys.path includes SRC_DIR?: True, BASE_DIR?: True
2025-04-23 07:21:31 - ModelTrainerApp - INFO - Biblioteca 'imbalanced-learn' carregada com sucesso.
2025-04-23 07:21:31 - MainApp - INFO - DPI Awareness set (Windows).
2025-04-23 07:21:32 - MainApp - INFO - ScraperUploadTab instanciada com sucesso.
2025-04-23 07:21:32 - PredictorApp - INFO - Modelo carregado: best_model_backdraw_best_f1.joblib (Modif.: 2025-04-22 22:34:18)
2025-04-23 07:21:32 - PredictorApp - INFO -   Tipo: SVC | Calib: Sim | F1 Thr: 0.2305 | EV Thr: 0.1600
2025-04-23 07:21:32 - PredictorApp - INFO - Modelo carregado: best_model_backdraw_best_roi.joblib (Modif.: 2025-04-22 22:34:18)
2025-04-23 07:21:32 - PredictorApp - INFO -   Tipo: GaussianNB | Calib: Sim | F1 Thr: 0.2336 | EV Thr: 0.2000
2025-04-23 07:21:32 - DataHandler - INFO - Iniciando carregamento e mapeamento de ligas de dados históricos...
2025-04-23 07:21:32 - DataHandler - INFO - Lendo Base_de_Dados_FootyStats_(2006_2021).csv...
2025-04-23 07:21:33 - DataHandler - INFO -   -> Lido 169433 linhas.
2025-04-23 07:21:33 - DataHandler - INFO -   Aplicando mapeamento de liga específico para Base_de_Dados_FootyStats_(2006_2021).csv (Coluna original: 'League')...
2025-04-23 07:21:33 - DataHandler - WARNING -     Ligas NÃO mapeadas (mapa específico) em Base_de_Dados_FootyStats_(2006_2021).csv: ['Argentina Primera DivisiÃ³n', 'Austria 2. Liga', 'Austria Bundesliga', 'Belgium Pro League', 'Bulgaria First League', 'Chile Primera DivisiÃ³n', 'China Chinese Super League', 'Croatia Prva HNL', 'Czech Republic First League', 'Denmark Superliga', 'Egypt Egyptian Premier League', 'England Championship', 'England EFL League One', 'England EFL League Two', 'England Premier League', 'Estonia Meistriliiga', 'Finland Veikkausliiga', 'France Ligue 1', 'France Ligue 2', 'Germany 2. Bundesliga', 'Germany Bundesliga', 'Greece Super League', 'Iceland Ã\x9arvalsdeild', 'Japan J1 League', 'Japan J2 League', 'Netherlands Eerste Divisie', 'Netherlands Eredivisie', 'Norway Eliteserien', 'Norway First Division', 'Paraguay Division Profesional', 'Poland Ekstraklasa', 'Portugal Liga NOS', 'Portugal LigaPro', 'Republic of Ireland Premier Division', 'Scotland Premiership', 'Serbia SuperLiga', 'Slovakia Super Liga', 'Slovenia PrvaLiga', 'South Korea K League 1', 'South Korea K League 2', 'Spain La Liga', 'Spain Segunda DivisiÃ³n', 'Sweden Allsvenskan', 'Sweden Superettan', 'Switzerland Challenge League', 'Switzerland Super League', 'Turkey SÃ¼per Lig', 'Uruguay Primera DivisiÃ³n', 'USA MLS', 'Wales Welsh Premier League']
2025-04-23 07:21:33 - DataHandler - INFO -   Filtro de Liga (pós-map) em Base_de_Dados_FootyStats_(2006_2021).csv: 20112/169433 jogos restantes.
2025-04-23 07:21:33 - DataHandler - INFO -   Aplicando mapeamento geral de colunas (CSV_HIST_COL_MAP) ao DF filtrado...
2025-04-23 07:21:33 - DataHandler - INFO -   DataFrame de Base_de_Dados_FootyStats_(2006_2021).csv processado e adicionado.
2025-04-23 07:21:33 - DataHandler - INFO - Lendo Base_de_Dados_FootyStats_(2022_2025).csv...
2025-04-23 07:21:33 - DataHandler - INFO -   -> Lido 49477 linhas.
2025-04-23 07:21:33 - DataHandler - INFO -   Aplicando mapeamento de liga específico para Base_de_Dados_FootyStats_(2022_2025).csv (Coluna original: 'League')...
2025-04-23 07:21:33 - DataHandler - WARNING -     Ligas NÃO mapeadas (mapa específico) em Base_de_Dados_FootyStats_(2022_2025).csv: ['PARAGUAY 1', 'CHILE 1', 'URUGUAY 1', 'JAPAN 1', 'IRELAND 1', 'JAPAN 2', 'SOUTH KOREA 2', 'SOUTH KOREA 1', 'USA 1', 'ESTONIA 1', 'FINLAND 1', 'SWEDEN 2', 'SWEDEN 1', 'NORWAY 1', 'NORWAY 2', 'ICELAND 1', 'CHINA 1', 'BULGARIA 1', 'SERBIA 1', 'POLAND 1', 'DENMARK 1', 'SWITZERLAND 2', 'CROATIA 1', 'SLOVENIA 1', 'SLOVAKIA 1', 'GERMANY 2', 'SWITZERLAND 1', 'AUSTRIA 2', 'AUSTRIA 1', 'BELGIUM 1', 'ENGLAND 2', 'SCOTLAND 1', 'FRANCE 2', 'ENGLAND 3', 'ENGLAND 4', 'CZECH 1', 'NETHERLANDS 2', 'NETHERLANDS 1', 'TURKEY 1', 'GERMANY 1', 'FRANCE 1', 'ENGLAND 1', 'PORTUGAL 1', 'PORTUGAL 2', 'WALES 1', 'SPAIN 1', 'GREECE 1', 'EGYPT 1']
2025-04-23 07:21:34 - DataHandler - INFO -   Filtro de Liga (pós-map) em Base_de_Dados_FootyStats_(2022_2025).csv: 8497/49477 jogos restantes.
2025-04-23 07:21:34 - DataHandler - INFO -   Aplicando mapeamento geral de colunas (CSV_HIST_COL_MAP) ao DF filtrado...
2025-04-23 07:21:34 - DataHandler - INFO -   DataFrame de Base_de_Dados_FootyStats_(2022_2025).csv processado e adicionado.
2025-04-23 07:21:34 - DataHandler - INFO - Concatenando 2 DFs processados...
2025-04-23 07:21:34 - DataHandler - INFO - DF histórico combinado e mapeado: (28609, 16)
2025-04-23 07:21:34 - DataHandler - INFO - Iniciando processamento comum pós-concatenação (Tipos, NaNs, Dropna Essencial, Ordenação)...
2025-04-23 07:21:34 - DataHandler - INFO - Verificando NaNs nas colunas essenciais finais: ['Date', 'Home', 'Away', 'Goals_H_FT', 'Goals_A_FT', 'Odd_H_FT', 'Odd_D_FT', 'Odd_A_FT']
2025-04-23 07:21:34 - DataHandler - INFO - Removidas 5002 linhas com NaNs essenciais finais.
2025-04-23 07:21:34 - DataHandler - INFO - DF histórico ordenado por Data.
2025-04-23 07:21:34 - DataHandler - INFO - Calculando Pi-Ratings...
2025-04-23 07:21:35 - DataHandler - INFO - Pi-Ratings calculados e adicionados. Colunas: ['PiRating_H', 'PiRating_A', 'PiRating_Diff', 'PiRating_Prob_H']
2025-04-23 07:21:35 - DataHandler - INFO - Carregamento e mapeamento históricos OK. Shape Final: (23607, 20)
2025-04-23 07:21:35 - DataHandler - INFO - Contagem de NaNs finais em colunas opcionais:
Odd_Over25_FT     7305
Odd_Under25_FT    7603
Odd_BTTS_Yes      7170
Odd_BTTS_No       7169
XG_H              8173
XG_A              8173
XG_Total          8101
dtype: int64
2025-04-23 07:21:35 - MainApp - INFO - FootballPredictorDashboard instanciada com sucesso.
2025-04-23 07:21:35 - MainApp - INFO - FeatureAnalyzerApp instanciada com sucesso.
2025-04-23 07:21:48 - FeatureAnalyzerApp - INFO - [GUI Analyzer] Iniciando: Carregando & Processando dados históricos...
2025-04-23 07:21:48 - FeatureAnalyzerApp - INFO - [GUI Analyzer] Etapa 1: Carregando dados brutos...
2025-04-23 07:21:48 - DataHandler - INFO - Iniciando carregamento e mapeamento de ligas de dados históricos...
2025-04-23 07:21:48 - DataHandler - INFO - Lendo Base_de_Dados_FootyStats_(2006_2021).csv...
2025-04-23 07:21:50 - DataHandler - INFO -   -> Lido 169433 linhas.
2025-04-23 07:21:50 - DataHandler - INFO -   Aplicando mapeamento de liga específico para Base_de_Dados_FootyStats_(2006_2021).csv (Coluna original: 'League')...
2025-04-23 07:21:50 - DataHandler - WARNING -     Ligas NÃO mapeadas (mapa específico) em Base_de_Dados_FootyStats_(2006_2021).csv: ['Argentina Primera DivisiÃ³n', 'Austria 2. Liga', 'Austria Bundesliga', 'Belgium Pro League', 'Bulgaria First League', 'Chile Primera DivisiÃ³n', 'China Chinese Super League', 'Croatia Prva HNL', 'Czech Republic First League', 'Denmark Superliga', 'Egypt Egyptian Premier League', 'England Championship', 'England EFL League One', 'England EFL League Two', 'England Premier League', 'Estonia Meistriliiga', 'Finland Veikkausliiga', 'France Ligue 1', 'France Ligue 2', 'Germany 2. Bundesliga', 'Germany Bundesliga', 'Greece Super League', 'Iceland Ã\x9arvalsdeild', 'Japan J1 League', 'Japan J2 League', 'Netherlands Eerste Divisie', 'Netherlands Eredivisie', 'Norway Eliteserien', 'Norway First Division', 'Paraguay Division Profesional', 'Poland Ekstraklasa', 'Portugal Liga NOS', 'Portugal LigaPro', 'Republic of Ireland Premier Division', 'Scotland Premiership', 'Serbia SuperLiga', 'Slovakia Super Liga', 'Slovenia PrvaLiga', 'South Korea K League 1', 'South Korea K League 2', 'Spain La Liga', 'Spain Segunda DivisiÃ³n', 'Sweden Allsvenskan', 'Sweden Superettan', 'Switzerland Challenge League', 'Switzerland Super League', 'Turkey SÃ¼per Lig', 'Uruguay Primera DivisiÃ³n', 'USA MLS', 'Wales Welsh Premier League']
2025-04-23 07:21:50 - DataHandler - INFO -   Filtro de Liga (pós-map) em Base_de_Dados_FootyStats_(2006_2021).csv: 20112/169433 jogos restantes.
2025-04-23 07:21:50 - DataHandler - INFO -   Aplicando mapeamento geral de colunas (CSV_HIST_COL_MAP) ao DF filtrado...
2025-04-23 07:21:50 - DataHandler - INFO -   DataFrame de Base_de_Dados_FootyStats_(2006_2021).csv processado e adicionado.
2025-04-23 07:21:50 - DataHandler - INFO - Lendo Base_de_Dados_FootyStats_(2022_2025).csv...
2025-04-23 07:21:50 - DataHandler - INFO -   -> Lido 49477 linhas.
2025-04-23 07:21:50 - DataHandler - INFO -   Aplicando mapeamento de liga específico para Base_de_Dados_FootyStats_(2022_2025).csv (Coluna original: 'League')...
2025-04-23 07:21:50 - DataHandler - WARNING -     Ligas NÃO mapeadas (mapa específico) em Base_de_Dados_FootyStats_(2022_2025).csv: ['PARAGUAY 1', 'CHILE 1', 'URUGUAY 1', 'JAPAN 1', 'IRELAND 1', 'JAPAN 2', 'SOUTH KOREA 2', 'SOUTH KOREA 1', 'USA 1', 'ESTONIA 1', 'FINLAND 1', 'SWEDEN 2', 'SWEDEN 1', 'NORWAY 1', 'NORWAY 2', 'ICELAND 1', 'CHINA 1', 'BULGARIA 1', 'SERBIA 1', 'POLAND 1', 'DENMARK 1', 'SWITZERLAND 2', 'CROATIA 1', 'SLOVENIA 1', 'SLOVAKIA 1', 'GERMANY 2', 'SWITZERLAND 1', 'AUSTRIA 2', 'AUSTRIA 1', 'BELGIUM 1', 'ENGLAND 2', 'SCOTLAND 1', 'FRANCE 2', 'ENGLAND 3', 'ENGLAND 4', 'CZECH 1', 'NETHERLANDS 2', 'NETHERLANDS 1', 'TURKEY 1', 'GERMANY 1', 'FRANCE 1', 'ENGLAND 1', 'PORTUGAL 1', 'PORTUGAL 2', 'WALES 1', 'SPAIN 1', 'GREECE 1', 'EGYPT 1']
2025-04-23 07:21:50 - DataHandler - INFO -   Filtro de Liga (pós-map) em Base_de_Dados_FootyStats_(2022_2025).csv: 8497/49477 jogos restantes.
2025-04-23 07:21:50 - DataHandler - INFO -   Aplicando mapeamento geral de colunas (CSV_HIST_COL_MAP) ao DF filtrado...
2025-04-23 07:21:50 - DataHandler - INFO -   DataFrame de Base_de_Dados_FootyStats_(2022_2025).csv processado e adicionado.
2025-04-23 07:21:50 - DataHandler - INFO - Concatenando 2 DFs processados...
2025-04-23 07:21:50 - DataHandler - INFO - DF histórico combinado e mapeado: (28609, 16)
2025-04-23 07:21:50 - DataHandler - INFO - Iniciando processamento comum pós-concatenação (Tipos, NaNs, Dropna Essencial, Ordenação)...
2025-04-23 07:21:50 - DataHandler - INFO - Verificando NaNs nas colunas essenciais finais: ['Date', 'Home', 'Away', 'Goals_H_FT', 'Goals_A_FT', 'Odd_H_FT', 'Odd_D_FT', 'Odd_A_FT']
2025-04-23 07:21:50 - DataHandler - INFO - Removidas 5002 linhas com NaNs essenciais finais.
2025-04-23 07:21:50 - DataHandler - INFO - DF histórico ordenado por Data.
2025-04-23 07:21:50 - DataHandler - INFO - Calculando Pi-Ratings...
2025-04-23 07:21:52 - DataHandler - INFO - Pi-Ratings calculados e adicionados. Colunas: ['PiRating_H', 'PiRating_A', 'PiRating_Diff', 'PiRating_Prob_H']
2025-04-23 07:21:52 - DataHandler - INFO - Carregamento e mapeamento históricos OK. Shape Final: (23607, 20)
2025-04-23 07:21:52 - DataHandler - INFO - Contagem de NaNs finais em colunas opcionais:
Odd_Over25_FT     7305
Odd_Under25_FT    7603
Odd_BTTS_Yes      7170
Odd_BTTS_No       7169
XG_H              8173
XG_A              8173
XG_Total          8101
dtype: int64
2025-04-23 07:21:52 - FeatureAnalyzerApp - INFO - [GUI Analyzer] Dados brutos carregados: (23607, 20)
2025-04-23 07:21:52 - FeatureAnalyzerApp - INFO - [GUI Analyzer] Etapa 2: Processando features (Pipeline Completo)...
2025-04-23 07:21:52 - FeatureAnalyzerApp - INFO - === INÍCIO PIPELINE FEAT ENG (ANALYSIS TAB) ===
2025-04-23 07:21:52 - FeatureAnalyzerApp - INFO - [GUI Analyzer] Médias Liga: H=1.379, A=1.034
2025-04-23 07:21:52 - DataHandler - INFO - Calculando stats intermediárias...
2025-04-23 07:21:52 - DataHandler - INFO - ->Result/IsDraw/Ptos OK.
2025-04-23 07:21:52 - DataHandler - INFO - ->Calculando p_H/D/A (ausentes)...
2025-04-23 07:21:52 - DataHandler - INFO - Probabilidades Implícitas (p_H, p_D, p_A) calculadas.
2025-04-23 07:21:52 - DataHandler - INFO - ->VG/CG Raw OK.
2025-04-23 07:21:52 - DataHandler - INFO - Cálculo Intermediárias concluído.
2025-04-23 07:21:52 - DataHandler - INFO - Probabilidades Implícitas (p_H, p_D, p_A) calculadas.
2025-04-23 07:21:52 - DataHandler - INFO - Probabilidades Normalizadas (p_X_norm, abs_ProbDiff_Norm) calculadas.
2025-04-23 07:21:52 - DataHandler - INFO - Calculando Pi-Ratings...
2025-04-23 07:21:53 - DataHandler - INFO - Pi-Ratings calculados e adicionados. Colunas: ['PiRating_H', 'PiRating_A', 'PiRating_Diff', 'PiRating_Prob_H']
2025-04-23 07:21:53 - DataHandler - INFO - Iniciando cálculo Médias Rolling (Janela=7)...
2025-04-23 07:21:53 - DataHandler - INFO - Calculando Médias rolling para: ['VG_H', 'VG_A', 'CG_H', 'CG_A']
2025-04-23 07:21:56 - DataHandler - INFO - Médias Rolling calculadas. Colunas adicionadas: ['Media_VG_H', 'Media_VG_A', 'Media_CG_H', 'Media_CG_A']
2025-04-23 07:21:56 - DataHandler - INFO - Iniciando cálculo Desvio Padrão Rolling (Janela=7)...
2025-04-23 07:21:56 - DataHandler - INFO - Calculando StDev rolling para: ['CG_H', 'CG_A']
2025-04-23 07:21:59 - DataHandler - INFO - StDev Rolling calculado. Colunas adicionadas: ['Std_CG_H', 'Std_CG_A']
2025-04-23 07:21:59 - DataHandler - INFO - Calculando Rolling Gols e Forças FA/FD (Janela=7)...
2025-04-23 07:22:02 - DataHandler - INFO - Rolling Gols/FA/FD calculado. Colunas: ['Avg_Gols_Marcados_H', 'Avg_Gols_Sofridos_H', 'FA_H', 'FD_H', 'Avg_Gols_Marcados_A', 'Avg_Gols_Sofridos_A', 'FA_A', 'FD_A']
2025-04-23 07:22:02 - DataHandler - INFO - Calculando Prob Empate (Poisson Refinado, max_gols=6)...
2025-04-23 07:22:02 - DataHandler - INFO - Prob_Empate_Poisson (Refinado) calculado.
2025-04-23 07:22:02 - DataHandler - INFO - Binning ('Odd_D_Cat') calculado a partir de 'Odd_D_FT'.
2025-04-23 07:22:02 - DataHandler - INFO - Calculando features derivadas (CV_HDA, Diff_Media_CG)...
2025-04-23 07:22:02 - FeatureAnalyzerApp - INFO - [GUI Analyzer] Processamento features concluído.
2025-04-23 07:22:02 - FeatureAnalyzerApp - INFO - === FIM PIPELINE FEAT ENG ===
2025-04-23 07:22:02 - FeatureAnalyzerApp - INFO - [GUI Analyzer] Etapa 3: Preparando X, y para análise...
2025-04-23 07:22:02 - FeatureAnalyzerApp - INFO - [GUI Analyzer] Features numéricas para análise: 43
2025-04-23 07:22:02 - FeatureAnalyzerApp - INFO - [GUI Analyzer] Dados p/ análise (final): (7359, 44) (16248 linhas removidas).
2025-04-23 07:22:02 - FeatureAnalyzerApp - INFO - [GUI Analyzer] Identificador de dados atualizado: ((7359, 43), ('Odd_H_FT', 'Odd_D_FT', 'Odd_A_FT', 'Odd_Over25_FT', 'Odd_Under25_FT', 'Odd_BTTS_Yes', 'Odd_BTTS_No', 'XG_H', 'XG_A', 'XG_Total', 'PiRating_H', 'PiRating_A', 'PiRating_Diff', 'PiRating_Prob_H', 'p_H', 'p_D', 'p_A', 'VG_H_raw', 'VG_A_raw', 'CG_H_raw', 'CG_A_raw', 'p_H_norm', 'p_D_norm', 'p_A_norm', 'abs_ProbDiff_Norm', 'Media_VG_H', 'Media_VG_A', 'Media_CG_H', 'Media_CG_A', 'Std_CG_H', 'Std_CG_A', 'Avg_Gols_Marcados_H', 'Avg_Gols_Sofridos_H', 'FA_H', 'FD_H', 'Avg_Gols_Marcados_A', 'Avg_Gols_Sofridos_A', 'FA_A', 'FD_A', 'Prob_Empate_Poisson', 'Odd_D_Cat', 'CV_HDA', 'Diff_Media_CG'))
2025-04-23 07:22:02 - FeatureAnalyzerApp - INFO - [GUI Analyzer] Etapa 4: Atualizando Describe/Target...
2025-04-23 07:22:02 - FeatureAnalyzerApp - INFO - [GUI Analyzer] Etapa 5: Gerando gráficos básicos...
2025-04-23 07:22:02 - FeatureAnalyzerApp - INFO - [GUI Analyzer] Carregamento e análise básica concluídos. Use 'Carregar Modelos Treinados'.
2025-04-23 07:24:13 - FeatureAnalyzerApp - INFO - [GUI Analyzer] Tentando carregar modelos treinados...
2025-04-23 07:24:13 - FeatureAnalyzerApp - INFO - [GUI Analyzer]  -> Carregando Melhor F1 (Empate)...
2025-04-23 07:24:13 - PredictorApp - INFO - Modelo carregado: best_model_backdraw_best_f1.joblib (Modif.: 2025-04-22 22:34:18)
2025-04-23 07:24:13 - PredictorApp - INFO -   Tipo: SVC | Calib: Sim | F1 Thr: 0.2305 | EV Thr: 0.1600
2025-04-23 07:24:13 - FeatureAnalyzerApp - WARNING - Importância não disponível diretamente (sem feature_importances_ ou coef_) para SVC.
2025-04-23 07:24:13 - FeatureAnalyzerApp - INFO - Tentando Permutation Importance...
2025-04-23 07:24:13 - FeatureAnalyzerApp - ERROR - Erro ao calcular/extrair importância para SVC: The feature names should match those that were passed during fit.
Feature names unseen at fit time:
- Avg_Gols_Marcados_A
- Avg_Gols_Marcados_H
- Avg_Gols_Sofridos_A
- Avg_Gols_Sofridos_H
- CG_A_raw
- ...
Traceback (most recent call last):
  File "c:\Users\princ\Desktop\modelagem\Modelagem_Exemplos\futebol_analytics\src\feature_analyzer_tab.py", line 436, in _calculate_feature_importance
    result = permutation_importance(model, self.X_clean, self.y_clean, n_repeats=10, random_state=RANDOM_STATE, n_jobs=-1)
  File "C:\Users\princ\AppData\Local\Programs\Python\Python313\Lib\site-packages\sklearn\utils\_param_validation.py", line 216, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\princ\AppData\Local\Programs\Python\Python313\Lib\site-packages\sklearn\inspection\_permutation_importance.py", line 285, in permutation_importance
    baseline_score = _weights_scorer(scorer, estimator, X, y, sample_weight)
  File "C:\Users\princ\AppData\Local\Programs\Python\Python313\Lib\site-packages\sklearn\inspection\_permutation_importance.py", line 28, in _weights_scorer
    return scorer(estimator, X, y)
  File "C:\Users\princ\AppData\Local\Programs\Python\Python313\Lib\site-packages\sklearn\metrics\_scorer.py", line 472, in __call__
    return estimator.score(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\princ\AppData\Local\Programs\Python\Python313\Lib\site-packages\sklearn\base.py", line 572, in score
    return accuracy_score(y, self.predict(X), sample_weight=sample_weight)
                             ~~~~~~~~~~~~^^^
  File "C:\Users\princ\AppData\Local\Programs\Python\Python313\Lib\site-packages\sklearn\svm\_base.py", line 822, in predict
    y = super().predict(X)
  File "C:\Users\princ\AppData\Local\Programs\Python\Python313\Lib\site-packages\sklearn\svm\_base.py", line 436, in predict
    X = self._validate_for_predict(X)
  File "C:\Users\princ\AppData\Local\Programs\Python\Python313\Lib\site-packages\sklearn\svm\_base.py", line 614, in _validate_for_predict
    X = validate_data(
        self,
    ...<5 lines>...
        reset=False,
    )
  File "C:\Users\princ\AppData\Local\Programs\Python\Python313\Lib\site-packages\sklearn\utils\validation.py", line 2919, in validate_data
    _check_feature_names(_estimator, X, reset=reset)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\princ\AppData\Local\Programs\Python\Python313\Lib\site-packages\sklearn\utils\validation.py", line 2777, in _check_feature_names
    raise ValueError(message)
ValueError: The feature names should match those that were passed during fit.
Feature names unseen at fit time:
- Avg_Gols_Marcados_A
- Avg_Gols_Marcados_H
- Avg_Gols_Sofridos_A
- Avg_Gols_Sofridos_H
- CG_A_raw
- ...

2025-04-23 07:24:13 - FeatureAnalyzerApp - WARNING - Não foi possível calcular importância para Melhor F1 (Empate) (SVC).
2025-04-23 07:24:13 - FeatureAnalyzerApp - INFO - [GUI Analyzer]     -> Modelo Melhor F1 (Empate) carregado.
2025-04-23 07:24:13 - FeatureAnalyzerApp - INFO - [GUI Analyzer]  -> Carregando Melhor ROI (Empate)...
2025-04-23 07:24:13 - PredictorApp - INFO - Modelo carregado: best_model_backdraw_best_roi.joblib (Modif.: 2025-04-22 22:34:18)
2025-04-23 07:24:13 - PredictorApp - INFO -   Tipo: GaussianNB | Calib: Sim | F1 Thr: 0.2336 | EV Thr: 0.2000
2025-04-23 07:24:13 - FeatureAnalyzerApp - WARNING - Importância não disponível diretamente (sem feature_importances_ ou coef_) para GaussianNB.
2025-04-23 07:24:13 - FeatureAnalyzerApp - INFO - Tentando Permutation Importance...
2025-04-23 07:24:13 - FeatureAnalyzerApp - ERROR - Erro ao calcular/extrair importância para GaussianNB: The feature names should match those that were passed during fit.
Feature names unseen at fit time:
- Avg_Gols_Marcados_A
- Avg_Gols_Marcados_H
- Avg_Gols_Sofridos_A
- Avg_Gols_Sofridos_H
- CG_A_raw
- ...
Traceback (most recent call last):
  File "c:\Users\princ\Desktop\modelagem\Modelagem_Exemplos\futebol_analytics\src\feature_analyzer_tab.py", line 436, in _calculate_feature_importance
    result = permutation_importance(model, self.X_clean, self.y_clean, n_repeats=10, random_state=RANDOM_STATE, n_jobs=-1)
  File "C:\Users\princ\AppData\Local\Programs\Python\Python313\Lib\site-packages\sklearn\utils\_param_validation.py", line 216, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\princ\AppData\Local\Programs\Python\Python313\Lib\site-packages\sklearn\inspection\_permutation_importance.py", line 285, in permutation_importance
    baseline_score = _weights_scorer(scorer, estimator, X, y, sample_weight)
  File "C:\Users\princ\AppData\Local\Programs\Python\Python313\Lib\site-packages\sklearn\inspection\_permutation_importance.py", line 28, in _weights_scorer
    return scorer(estimator, X, y)
  File "C:\Users\princ\AppData\Local\Programs\Python\Python313\Lib\site-packages\sklearn\metrics\_scorer.py", line 472, in __call__
    return estimator.score(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\princ\AppData\Local\Programs\Python\Python313\Lib\site-packages\sklearn\base.py", line 572, in score
    return accuracy_score(y, self.predict(X), sample_weight=sample_weight)
                             ~~~~~~~~~~~~^^^
  File "C:\Users\princ\AppData\Local\Programs\Python\Python313\Lib\site-packages\sklearn\naive_bayes.py", line 105, in predict
    X = self._check_X(X)
  File "C:\Users\princ\AppData\Local\Programs\Python\Python313\Lib\site-packages\sklearn\naive_bayes.py", line 272, in _check_X
    return validate_data(self, X, reset=False)
  File "C:\Users\princ\AppData\Local\Programs\Python\Python313\Lib\site-packages\sklearn\utils\validation.py", line 2919, in validate_data
    _check_feature_names(_estimator, X, reset=reset)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\princ\AppData\Local\Programs\Python\Python313\Lib\site-packages\sklearn\utils\validation.py", line 2777, in _check_feature_names
    raise ValueError(message)
ValueError: The feature names should match those that were passed during fit.
Feature names unseen at fit time:
- Avg_Gols_Marcados_A
- Avg_Gols_Marcados_H
- Avg_Gols_Sofridos_A
- Avg_Gols_Sofridos_H
- CG_A_raw
- ...

2025-04-23 07:24:13 - FeatureAnalyzerApp - WARNING - Não foi possível calcular importância para Melhor ROI (Empate) (GaussianNB).
2025-04-23 07:24:13 - FeatureAnalyzerApp - INFO - [GUI Analyzer]     -> Modelo Melhor ROI (Empate) carregado.
2025-04-23 07:24:13 - FeatureAnalyzerApp - INFO - [GUI Analyzer] Modelos carregados: Melhor F1 (Empate), Melhor ROI (Empate)
2025-04-23 07:24:13 - FeatureAnalyzerApp - INFO - [GUI Analyzer] Atualizando análise para o modelo: Melhor F1 (Empate)
2025-04-23 07:24:13 - FeatureAnalyzerApp - INFO - [GUI Analyzer] Iniciando cálculo SHAP para SVC em background...
2025-04-23 07:38:26 - FeatureAnalyzerApp - INFO - SHAP cacheado para Melhor F1 (Empate).
2025-04-23 07:40:36 - FeatureAnalyzerApp - INFO - [GUI Analyzer] Gerando gráfico SHAP para Melhor F1 (Empate)...
2025-04-23 07:40:36 - FeatureAnalyzerApp - ERROR - Erro ao plotar SHAP para Melhor F1 (Empate): Colorbar layout of new layout engine not compatible with old engine, and a colorbar has been created.  Engine not changed.
Traceback (most recent call last):
  File "c:\Users\princ\Desktop\modelagem\Modelagem_Exemplos\futebol_analytics\src\feature_analyzer_tab.py", line 672, in _plot_shap_summary
    shap.summary_plot(
    ~~~~~~~~~~~~~~~~~^
        shap_values, X_sample, plot_type="dot",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        show=False, max_display=15, feature_names=feature_names_plot
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\princ\AppData\Local\Programs\Python\Python313\Lib\site-packages\shap\plots\_beeswarm.py", line 1153, in summary_legacy
    pl.tight_layout()
    ~~~~~~~~~~~~~~~^^
  File "C:\Users\princ\AppData\Local\Programs\Python\Python313\Lib\site-packages\matplotlib\pyplot.py", line 2833, in tight_layout
    gcf().tight_layout(pad=pad, h_pad=h_pad, w_pad=w_pad, rect=rect)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\princ\AppData\Local\Programs\Python\Python313\Lib\site-packages\matplotlib\figure.py", line 3639, in tight_layout
    self.set_layout_engine(engine)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\princ\AppData\Local\Programs\Python\Python313\Lib\site-packages\matplotlib\figure.py", line 2740, in set_layout_engine
    raise RuntimeError('Colorbar layout of new layout engine not '
                       'compatible with old engine, and a colorbar '
                       'has been created.  Engine not changed.')
RuntimeError: Colorbar layout of new layout engine not compatible with old engine, and a colorbar has been created.  Engine not changed.
2025-04-23 07:40:54 - MainApp - INFO - Fechando aplicação.
2025-04-23 07:40:54 - MainApp - WARNING - FootballPredictorDashboard não possui flag 'stop_processing_queue' para parar a fila.
2025-04-23 07:40:54 - MainApp - WARNING - ScraperUploadTab não possui flag 'stop_processing_queue' para parar a fila.
2025-04-23 07:40:54 - MainApp - INFO - Destruindo janela principal.
